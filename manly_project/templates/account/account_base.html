{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="account-wrapper">
    <div class="account-container">
        <!-- Sidebar Navigation -->
        <aside class="account-sidebar">
            <h2 class="sidebar-title">My Account</h2>
            
            <nav class="sidebar-nav">
                <a href="#" class="sidebar-link {% if request.resolver_match.url_name == 'account_profile' %}active{% endif %}">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <span>Personal Information</span>
                </a>

                <a href="#"class="sidebar-link {% if request.resolver_match.url_name == 'account_address' %}active{% endif %}">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    <span>Address</span>
                </a>

                <a href="#" class="sidebar-link {% if request.resolver_match.url_name == 'account_orders' %}active{% endif %}">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <path d="M16 10a4 4 0 0 1-8 0"></path>
                    </svg>
                    <span>Order</span>
                </a>

                <a href="#" class="sidebar-link {% if request.resolver_match.url_name == 'account_wallet' %}active{% endif %}">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                        <line x1="1" y1="10" x2="23" y2="10"></line>
                    </svg>
                    <span>Wallet</span>
                </a>

                <a href="#" class="sidebar-link {% if request.resolver_match.url_name == 'account_coupon' %}active{% endif %}">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                        <line x1="7" y1="7" x2="7.01" y2="7"></line>
                    </svg>
                    <span>Coupon</span>
                </a>

                <a href="#" class="sidebar-link {% if request.resolver_match.url_name == 'account_password' %}active{% endif %}">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <span>Password Change</span>
                </a>

                <a href="{% url 'account_logout' %}" class="sidebar-link logout-link">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    <span>Logout</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <section class="account-content">
            {% block account_content %}{% endblock %}
        </section>
    </div>
</div>

<style>
/* Account Wrapper */
.account-wrapper {
    max-width: 1400px;
    margin: 0 auto;
    padding: 40px 60px;
    min-height: 70vh;
}

.account-container {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 40px;
}

/* Sidebar */
.account-sidebar {
    background: #fff;
    border: 2px solid #1a1a1a;
    border-radius: 16px;
    padding: 30px 0;
    height: fit-content;
    position: sticky;
    top: 100px;
    animation: slideInLeft 0.6s ease;
}

.sidebar-title {
    font-size: 20px;
    font-weight: 600;
    color: #1a1a1a;
    padding: 0 30px 20px;
    border-bottom: 1px solid #e5e5e5;
    margin-bottom: 10px;
}

.sidebar-nav {
    display: flex;
    flex-direction: column;
}

.sidebar-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 30px;
    color: #1a1a1a;
    font-size: 15px;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.3s ease;
    position: relative;
    border-left: 3px solid transparent;
}

.sidebar-link::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: #1a1a1a;
    transform: scaleY(0);
    transition: transform 0.3s ease;
}

.sidebar-link:hover {
    background: #f8f8f8;
    padding-left: 35px;
}

.sidebar-link:hover::before {
    transform: scaleY(1);
}

.sidebar-link.active {
    background: #f0f0f0;
    font-weight: 600;
    padding-left: 35px;
}

.sidebar-link.active::before {
    transform: scaleY(1);
}

.sidebar-link svg {
    transition: transform 0.3s ease;
}

.sidebar-link:hover svg {
    transform: scale(1.1);
}

/* Logout Link - Red Theme */
.sidebar-link.logout-link {
    color: #d32f2f;
    margin-top: 10px;
}

.sidebar-link.logout-link::before {
    background: #d32f2f;
}

.sidebar-link.logout-link:hover {
    background: #fef5f5;
}

.sidebar-link.logout-link svg {
    stroke: #d32f2f;
}

/* Account Content */
.account-content {
    background: #fff;
    border: 2px solid #1a1a1a;
    border-radius: 16px;
    padding: 40px;
    animation: slideInRight 0.6s ease;
}

/* Animations */
@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Responsive */
@media (max-width: 968px) {
    .account-wrapper {
        padding: 30px 30px;
    }

    .account-container {
        grid-template-columns: 1fr;
        gap: 30px;
    }

    .account-sidebar {
        position: static;
    }
}

@media (max-width: 768px) {
    .account-wrapper {
        padding: 20px;
    }

    .account-content {
        padding: 30px 20px;
    }

    .sidebar-link {
        padding: 14px 20px;
        font-size: 14px;
    }

    .sidebar-link:hover,
    .sidebar-link.active {
        padding-left: 25px;
    }
}
</style>
{% endblock %}